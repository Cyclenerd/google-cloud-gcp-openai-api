name: "CI"

on:
  push:
    branches:
      - "main"
  pull_request:
    branches:
      - "main"
  workflow_dispatch:

jobs:
  test:
    name: CI/CD Test
    # https://github.com/actions/virtual-environments/
    runs-on: ubuntu-latest
    steps:

      - name: ğŸ›ï¸ Checkout
        uses: actions/checkout@v3

      - name: Install dependencies ğŸ”§
        run: sudo apt-get install flake8

      - name: ğŸ›ï¸ Checkout
        uses: actions/checkout@v3

      # Check Bash scripts
      - name: Bash ğŸ”
        run: shellcheck *.sh

      # Check Python code
      - name: Python ğŸ”
        run: flake8 --ignore=W292 --max-line-length=127 --show-source --statistics *.py